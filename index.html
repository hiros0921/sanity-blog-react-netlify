<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HiroSuwa - Premium Content Platform</title>
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="sHrnW0KAn2Chc-sW13Tx8pMClAbMKAN2e3_qldg6wog" />
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="HiroSuwaのプレミアムコンテンツプラットフォーム。最新のブログ記事、動画、ソーシャルメディアコンテンツをお届けします。" />
    <meta name="keywords" content="HiroSuwa, ブログ, コンテンツ, 動画, YouTube, Twitter" />
    <meta name="author" content="HiroSuwa" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="HiroSuwa - Premium Content Platform" />
    <meta property="og:description" content="HiroSuwaのプレミアムコンテンツプラットフォーム。最新のブログ記事、動画、ソーシャルメディアコンテンツをお届けします。" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://steady-chebakia-9c5055.netlify.app/" />
    <meta property="og:image" content="/og-image.png" />
    <meta property="og:locale" content="ja_JP" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@hiros0921" />
    <meta name="twitter:creator" content="@hiros0921" />
    <meta name="twitter:title" content="HiroSuwa - Premium Content Platform" />
    <meta name="twitter:description" content="HiroSuwaのプレミアムコンテンツプラットフォーム。最新のブログ記事、動画、ソーシャルメディアコンテンツをお届けします。" />
    <meta name="twitter:image" content="/og-image.png" />
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1e40af" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/icon-192.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="HiroSuwa" />
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.sanity.io">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap"></noscript>
  </head>
  <body>
    <div id="root"></div>
    <script>
      // URLを自動的に修正（#がない場合は追加）
      (function() {
        const path = window.location.pathname;
        const hash = window.location.hash;
        
        // もし#がなく、パスが/以外の場合はHashRouterのフォーマットに修正
        if (!hash && path !== '/' && path !== '/index.html') {
          // /blog -> /#/blog
          // /post/fifth-blog -> /#/post/fifth-blog
          window.location.href = window.location.origin + '/#' + path;
        }
      })();
    </script>
    <script>
      // Service Workerを完全に削除
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          for(let registration of registrations) {
            registration.unregister();
          }
        });
        // キャッシュも削除
        caches.keys().then(function(names) {
          for (let name of names) caches.delete(name);
        });
      }
    </script>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Optimize third-party scripts -->
    <script>
      // モバイルデバイスチェック
      const isMobile = window.innerWidth < 640;
      
      // Load Google Analytics after page load (delayed more on mobile)
      window.addEventListener('load', () => {
        setTimeout(() => {
          const script = document.createElement('script');
          script.src = 'https://www.googletagmanager.com/gtag/js?id=YOUR_GA_ID';
          script.async = true;
          document.head.appendChild(script);
        }, isMobile ? 5000 : 3000);
      });
      
      // Preload critical resources for mobile
      if (isMobile) {
        // Remove heavy font weights for mobile
        document.querySelectorAll('link[rel="preload"][href*="Inter"]').forEach(link => {
          link.href = link.href.replace('wght@400;500;600;700', 'wght@400;600');
        });
      }
    </script>
  </body>
</html>