import{r as c,j as e,a2 as A,ao as I,m as p,ap as L,aq as R,ab as C,ar as $,as as D,A as E,L as B,f,O as T,C as P,at as z,c as N,ad as F,H as q,T as G,au as H,av as M}from"./react-vendor-CeN1yosF.js";import{u as S}from"./bookmarks-CJdUwcE9.js";function O(){const{readingLists:a,bookmarks:x,createReadingList:m,updateReadingList:y,deleteReadingList:h}=S(),[j,g]=c.useState(!1),[i,d]=c.useState(null),[r,n]=c.useState({name:"",description:"",isPublic:!1,color:"#3B82F6",icon:"📚"}),u=()=>{r.name.trim()&&(m(r),n({name:"",description:"",isPublic:!1,color:"#3B82F6",icon:"📚"}),g(!1))},s=t=>{r.name.trim()&&(y(t,r),d(null))},o=t=>{confirm("この読書リストを削除してもよろしいですか？")&&h(t)},v=["📚","📖","📝","🎯","⭐","🔖","📌","💡","🎨","🚀"],w=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#6366F1","#14B8A6","#F97316","#6B7280"];return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(A,{className:"w-7 h-7"}),"読書リスト"]}),e.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),"新規作成"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(t=>{const b=t.bookmarkIds.map(l=>x.find(k=>k.id===l)).filter(Boolean);return e.jsxs(p.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[t.isPublic?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),"公開"]}):e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),"非公開"]}),e.jsx("span",{children:"・"}),e.jsxs("span",{children:[b.length," 件"]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>d(i===t.id?null:t.id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(C,{className:"w-4 h-4 text-gray-500"})}),i===t.id&&e.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[e.jsxs("button",{onClick:()=>{n({name:t.name,description:t.description||"",isPublic:t.isPublic,color:t.color||"#3B82F6",icon:t.icon||"📚"}),d(t.id)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"編集"]}),e.jsxs("button",{onClick:()=>o(t.id),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 text-red-600",children:[e.jsx(D,{className:"w-4 h-4"}),"削除"]})]})]})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:t.description}),e.jsxs("div",{className:"flex -space-x-2 mb-3",children:[b.slice(0,4).map((l,k)=>e.jsx("div",{className:"w-12 h-16 bg-gray-200 dark:bg-gray-700 rounded border-2 border-white dark:border-gray-800",style:{backgroundImage:l?.postImage?`url(${l.postImage})`:void 0,backgroundSize:"cover",backgroundPosition:"center"}},k)),b.length>4&&e.jsx("div",{className:"w-12 h-16 bg-gray-300 dark:bg-gray-600 rounded border-2 border-white dark:border-gray-800 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:["+",b.length-4]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-20 h-1 rounded-full",style:{backgroundColor:t.color||"#3B82F6"}}),e.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"表示 →"})]})]},t.id)})}),e.jsx(E,{children:(j||i)&&e.jsxs(e.Fragment,{children:[e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{g(!1),d(null)},className:"fixed inset-0 bg-black/50 z-40"}),e.jsxs(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white dark:bg-gray-900 rounded-xl shadow-2xl z-50 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:i?"読書リストを編集":"新しい読書リスト"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"名前"}),e.jsx("input",{type:"text",value:r.name,onChange:t=>n({...r,name:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"例: 技術書リスト"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"説明（任意）"}),e.jsx("textarea",{value:r.description,onChange:t=>n({...r,description:t.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white resize-none",placeholder:"このリストの説明を入力..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"アイコン"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(t=>e.jsx("button",{onClick:()=>n({...r,icon:t}),className:`w-12 h-12 rounded-lg flex items-center justify-center text-xl transition-all ${r.icon===t?"bg-blue-100 dark:bg-blue-900/30 ring-2 ring-blue-500":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"カラー"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(t=>e.jsx("button",{onClick:()=>n({...r,color:t}),className:`w-10 h-10 rounded-lg transition-all ${r.color===t?"ring-2 ring-offset-2 ring-gray-400 dark:ring-offset-gray-900":""}`,style:{backgroundColor:t}},t))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isPublic",checked:r.isPublic,onChange:t=>n({...r,isPublic:t.target.checked}),className:"mr-2"}),e.jsx("label",{htmlFor:"isPublic",className:"text-sm text-gray-700 dark:text-gray-300",children:"このリストを公開する"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>{g(!1),d(null)},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"キャンセル"}),e.jsx("button",{onClick:()=>i?s(i):u(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:i?"更新":"作成"})]})]})]})})]})}function U({bookmark:a,view:x}){const{updateReadingProgress:m,addTag:y,removeTag:h,updateNotes:j,toggleBookmark:g}=S(),[i,d]=c.useState(!1),[r,n]=c.useState(!1),[u,s]=c.useState(a.notes||""),[o,v]=c.useState(""),w=async()=>{confirm("このブックマークを削除してもよろしいですか？")&&await g({id:a.postId,title:a.postTitle,slug:a.postSlug})},t=()=>{o.trim()&&(y(a.id,o.trim()),v(""))},b=()=>{j(a.id,u),n(!1)};return x==="list"?e.jsx(p.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[a.postImage&&e.jsx("div",{className:"w-24 h-16 bg-gray-200 dark:bg-gray-700 rounded flex-shrink-0",style:{backgroundImage:`url(${a.postImage})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(B,{to:`/post/${a.postSlug}`,className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 line-clamp-1",children:a.postTitle}),e.jsx("button",{onClick:()=>d(!i),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(C,{className:"w-4 h-4 text-gray-500"})})]}),a.postExcerpt&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:a.postExcerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-3 h-3"}),f(new Date(a.createdAt),{addSuffix:!0,locale:N})]}),a.lastReadAt&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),"最終: ",f(new Date(a.lastReadAt),{addSuffix:!0,locale:N})]}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${a.readingProgress||0}%`}})})}),e.jsxs("span",{className:"font-medium",children:[a.readingProgress||0,"%"]})]})]})]})}):e.jsxs(p.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.postImage&&e.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700",style:{backgroundImage:`url(${a.postImage})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(B,{to:`/post/${a.postSlug}`,className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 line-clamp-2",children:a.postTitle}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>d(!i),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(C,{className:"w-4 h-4 text-gray-500"})}),i&&e.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[e.jsxs("button",{onClick:()=>{n(!0),d(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"メモを編集"]}),e.jsxs("button",{onClick:w,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 text-red-600",children:[e.jsx(D,{className:"w-4 h-4"}),"削除"]})]})]})]}),a.postExcerpt&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3 mb-3",children:a.postExcerpt}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[a.tags.map(l=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs rounded-full text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(z,{className:"w-3 h-3"}),l,e.jsx("button",{onClick:()=>h(a.id,l),className:"ml-1 hover:text-red-500",children:"×"})]},l)),e.jsx("input",{type:"text",value:o,onChange:l=>v(l.target.value),onKeyDown:l=>l.key==="Enter"&&t(),placeholder:"+ タグ",className:"px-2 py-1 bg-transparent text-xs outline-none w-16"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400 mb-1",children:[e.jsx("span",{children:"読書進捗"}),e.jsxs("span",{children:[a.readingProgress||0,"%"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.readingProgress||0}%`}})}),e.jsx("input",{type:"range",min:"0",max:"100",value:a.readingProgress||0,onChange:l=>m(a.id,parseInt(l.target.value)),className:"absolute inset-0 w-full opacity-0 cursor-pointer"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-3 h-3"}),f(new Date(a.createdAt),{addSuffix:!0,locale:N})]}),a.lastReadAt&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),f(new Date(a.lastReadAt),{addSuffix:!0,locale:N})]})]})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>n(!1)}),e.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white dark:bg-gray-900 rounded-lg shadow-xl z-50 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"メモを編集"}),e.jsx("textarea",{value:u,onChange:l=>s(l.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white resize-none",placeholder:"この記事についてのメモ..."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400",children:"キャンセル"}),e.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"保存"})]})]})]})]})}function J(){const{bookmarks:a,stats:x}=S(),[m,y]=c.useState("grid"),[h,j]=c.useState("all"),[g,i]=c.useState("date"),[d,r]=c.useState("bookmarks"),u=[...a.filter(s=>{switch(h){case"unread":return!s.readingProgress||s.readingProgress===0;case"reading":return s.readingProgress&&s.readingProgress>0&&s.readingProgress<100;case"completed":return s.readingProgress===100;default:return!0}})].sort((s,o)=>{switch(g){case"title":return s.postTitle.localeCompare(o.postTitle);case"progress":return(o.readingProgress||0)-(s.readingProgress||0);default:return new Date(o.createdAt).getTime()-new Date(s.createdAt).getTime()}});return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"マイライブラリ"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(F,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.totalBookmarks})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ブックマーク"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(q,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.totalLikes})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"いいね"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(A,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.readingLists})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"読書リスト"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(G,{className:"w-5 h-5 text-purple-500"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Math.round(x.averageReadingProgress),"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"平均進捗"})]})]}),e.jsx("div",{className:"flex gap-4 border-b border-gray-200 dark:border-gray-700",children:["bookmarks","lists","stats"].map(s=>e.jsxs("button",{onClick:()=>r(s),className:`pb-3 px-1 font-medium transition-colors relative ${d===s?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[s==="bookmarks"?"ブックマーク":s==="lists"?"読書リスト":"統計",d===s&&e.jsx(p.div,{layoutId:"tabIndicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]},s))})]}),d==="bookmarks"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("div",{className:"flex gap-1 bg-white dark:bg-gray-800 rounded-lg p-1",children:["all","unread","reading","completed"].map(s=>e.jsx("button",{onClick:()=>j(s),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${h===s?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:s==="all"?"すべて":s==="unread"?"未読":s==="reading"?"読書中":"完了"},s))}),e.jsxs("select",{value:g,onChange:s=>i(s.target.value),className:"px-3 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm",children:[e.jsx("option",{value:"date",children:"追加日順"}),e.jsx("option",{value:"title",children:"タイトル順"}),e.jsx("option",{value:"progress",children:"進捗順"})]})]}),e.jsxs("div",{className:"flex gap-1 bg-white dark:bg-gray-800 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded transition-colors ${m==="grid"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:e.jsx(H,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded transition-colors ${m==="list"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:e.jsx(M,{className:"w-4 h-4"})})]})]}),u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:h==="all"?"まだブックマークがありません":"このカテゴリーにブックマークがありません"})]}):e.jsx("div",{className:m==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(s=>e.jsx(U,{bookmark:s,view:m},s.id))})]}),d==="lists"&&e.jsx(O,{}),d==="stats"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"読書進捗"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"未読"}),e.jsx("span",{className:"font-medium",children:a.filter(s=>!s.readingProgress||s.readingProgress===0).length})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:`${a.filter(s=>!s.readingProgress||s.readingProgress===0).length/a.length*100}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"読書中"}),e.jsx("span",{className:"font-medium",children:a.filter(s=>s.readingProgress&&s.readingProgress>0&&s.readingProgress<100).length})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${a.filter(s=>s.readingProgress&&s.readingProgress>0&&s.readingProgress<100).length/a.length*100}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"完了"}),e.jsx("span",{className:"font-medium",children:x.completedReading})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${x.completedReading/a.length*100}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"最近の活動"]}),e.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate flex-1",children:s.postTitle}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:f(new Date(s.createdAt),{addSuffix:!0,locale:N})})]},s.id))})]})]})]})})}export{J as default};
